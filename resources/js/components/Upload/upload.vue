<template>
  <div >


	<section class="sec-product-detail mt-4 bg0 p-t-65 p-b-60">
		<div class="container">
			<div class="row">


				<div class="col-md-6 col-lg-5 p-b-30">
					<div class="p-r-50 p-t-5 p-lr-0-lg">


						<!--  -->
						<div class="">
                            <div class="flex-w flex-r-m p-b-10">
								<div class="size-203 flex-c-m respon6">
									Subject
								</div>

								<div class="size-204 respon6-next">
									<div class="bor19">
									<input class="product-subject" type="text" name="name">
								</div>
								</div>
							</div>

                            <div class="flex-w flex-r-m p-b-10">
								<div class="size-203 flex-c-m respon6">
									Description
								</div>

								<div class="size-204 respon6-next">
									<div class="bor19">
									<textarea class="product-descript" rows="3"></textarea>
								</div>
								</div>
							</div>

							<div class="flex-w flex-r-m p-b-10">
								<div class="size-203 flex-c-m respon6">
								 Type
								</div>

								<div class="size-204 respon6-next">
									<div class="rs1-select2 bor8 bg0">
										<select class="js-select2" name="time">
											<option>Choose an option</option>
											<option>Phone</option>
											<option>Phone Cases</option>
											<option></option>
											<option>Size XL</option>
										</select>
										<div class="dropDownSelect2"></div>
									</div>
								</div>
							</div>

                            <div class="phone-spec ">
                                            <p class="details-heading">Phone details</p>

                                            <div class="flex-w flex-r-m p-b-10">
                                            <div class="size-203 flex-c-m respon6">
                                             Brand
                                            </div>

                                            <div class="size-204 respon6-next">
                                                <div class="rs1-select2 bor8 bg0">
                                                    <select class="js-select2" name="time">
                                                        <option>Choose an option</option>
                                                        <option>Phone</option>
                                                        <option>Phone Cases</option>
                                                        <option></option>
                                                        <option>Size XL</option>
                                                    </select>
                                                    <div class="dropDownSelect2"></div>
                                                </div>
                                            </div>
                                        </div>

                                  <div class="flex-w flex-r-m p-b-10">
                                            <div class="size-203 flex-c-m respon6">
                                             Brand Type
                                            </div>

                                            <div class="size-204 respon6-next">
                                                <div class="rs1-select2 bor8 bg0">
                                                    <select class="js-select2" name="time">
                                                        <option>Choose an option</option>
                                                        <option>Phone</option>
                                                        <option>Phone Cases</option>
                                                        <option></option>
                                                        <option>Size XL</option>
                                                    </select>
                                                    <div class="dropDownSelect2"></div>
                                                </div>
                                            </div>
                                        </div>

                            </div>

                            <div class="cases-comp ">

                                    <div class="phone-spec ">
                                            <p class="details-heading case-com-1">Phone Compatible</p>

                                            <div class="flex-w flex-r-m p-b-10">
                                            <div class="size-203 flex-c-m respon6">
                                             Brand
                                            </div>

                                            <div class="size-204 respon6-next">
                                                <div class="rs1-select2 bor8 bg0">
                                                    <select class="js-select2" name="time">
                                                        <option>Choose an option</option>
                                                        <option>Phone</option>
                                                        <option>Phone Cases</option>
                                                        <option></option>
                                                        <option>Size XL</option>
                                                    </select>
                                                    <div class="dropDownSelect2"></div>
                                                </div>
                                            </div>
                                        </div>

                                  <div class="flex-w flex-r-m p-b-10">
                                            <div class="size-203 flex-c-m respon6">
                                             Brand Type
                                            </div>

                                            <div class="size-204 respon6-next">
                                                <div class="rs1-select2 bor8 bg0">
                                                    <select class="js-select2" name="time">
                                                        <option>Choose an option</option>
                                                        <option>Phone</option>
                                                        <option>Phone Cases</option>
                                                        <option></option>
                                                        <option>Size XL</option>
                                                    </select>
                                                    <div class="dropDownSelect2"></div>
                                                </div>
                                            </div>
                                        </div>

                            </div>


                                 <div class="phone-spec ">
                                            <p class="details-heading case-com-1">Phone Compatible</p>

                                            <div class="flex-w flex-r-m p-b-10">
                                            <div class="size-203 flex-c-m respon6">
                                             Brand
                                            </div>

                                            <div class="size-204 respon6-next">
                                                <div class="rs1-select2 bor8 bg0">
                                                    <select class="js-select2" name="time">
                                                        <option>Choose an option</option>
                                                        <option>Phone</option>
                                                        <option>Phone Cases</option>
                                                        <option></option>
                                                        <option>Size XL</option>
                                                    </select>
                                                    <div class="dropDownSelect2"></div>
                                                </div>
                                            </div>
                                        </div>

                                  <div class="flex-w flex-r-m p-b-10">
                                            <div class="size-203 flex-c-m respon6">
                                             Brand Type
                                            </div>

                                            <div class="size-204 respon6-next">
                                                <div class="rs1-select2 bor8 bg0">
                                                    <select class="js-select2" name="time">
                                                        <option>Choose an option</option>
                                                        <option>Phone</option>
                                                        <option>Phone Cases</option>
                                                        <option></option>
                                                        <option>Size XL</option>
                                                    </select>
                                                    <div class="dropDownSelect2"></div>
                                                </div>
                                            </div>
                                        </div>
                              <button class="btn btn-danger">Remove</button>

                            </div>

                                <button class="btn btn-primary mb-4">Add More Compatible</button>

                            </div>





							<div class="flex-w flex-r-m p-b-10">
								<div class="size-204 flex-w flex-m respon6-next">


									<button class="flex-c-m stext-101 cl0 size-101 bg1 bor1 hov-btn1 p-lr-15 trans-04 js-addcart-detail" @click="uploadFinal">  
										upload
									</button>
								</div>
							</div>
						</div>









						<!--  -->

					</div>
				</div>

				<div class="col-md-6 col-lg-7 p-b-30">
					    <imagedrag></imagedrag>

                <div class="row isotope-grid mt-5">
                 
                    <imagesupload v-for="(image,index) in images" :key="index" :image="image" :index="index"></imagesupload>
                   

                    


				


                    



				

                      





                    </div>

					</div>
				</div>

			</div>
	</section>

  </div>
</template>

<script>
import Imagedrag from "./uploadimagedrag.vue"
import Imagesupload from "./uploadimages.vue"
export default {
components:{Imagedrag,Imagesupload},
data(){
    return{
        files:[],
        images:[]

         }
    },
    methods:{
                uploadFinal(){
                    var Cloudinary_url = "https://api.cloudinary.com/v1_1/jd999dawkins/upload";
                    var Cloudinary_preset="af428fcj";
                    var file =this.files[0];
                    var formData = new FormData();
                    formData.append('file',file);
                    formData.append('upload_preset',Cloudinary_preset);

                    axios({
                        method:'post',
                        url: Cloudinary_url,
                        data:formData
                    }).then((res)=>console.log(res)).catch((error)=>console.log(res))

                }
                   
                   
    },
    created(){
        EventBus.$on("imagedraged",(f)=>{

            f.forEach((file)=>{this.files.push(file)
              const  reader = new FileReader();
                       reader.onload= (e)=>this.images.push(e.target.result);
                        reader.readAsDataURL(file);
            })
          
 console.log("here@")
                       console.log(this.files)
               //console.log(this.images)
                console.log("here@")
        })


     EventBus.$on("removeUploadImage",(index)=>{
         this.images.splice(index,1);
         this.files.splice(index,1);
     })

    }
}
</script>

<style scoped>
.js-select2{
    width:100%;
    height:25px;
}

.details-heading{
    margin-left: 40%;
    margin-bottom: 10px;
}

.product-image-uploader{
    height: 50vh;
    width: 100%;

    background-color: #3498db;
    border: 2px dashed #F0F3F4;
}
.product-image-uploader:hover{
     background-color: white;
}




.product-descript{
     width: 100%;
}


.product-subject{
    height: 50px;
    width: 100%;
}

.phone-spec{
    background-color:#F0F3F4;
    margin-top: 10px;
    padding-top: 10px;
    padding-bottom:10px;
      margin-bottom: 10px;
}



</style>
